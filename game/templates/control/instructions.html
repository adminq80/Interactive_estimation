{% extends 'base.html' %}
{% load staticfiles i18n %}

{% block container %}
<div class="overview">
  <h2>Experiment Overview</h2>

  <p>
  After completing the instructions and comprehension check, you will begin the game. The game consists of 20 rounds. Each round you will see a scatter plot and be asked to estimate the correlation of the X and Y variables. While correlations can be positive or negative depending on the slope of the correlation, no negative correlations will be used in this game. 
  </p>

  <img src="/static/images/plots.gif" class="img-responsive"/>

  <p>
  Use the slider below the graph to guess the correlation. Your guess can range from 0 to 1, with 0 meaning no correlation, and 1 meaning perfect correlation (a straight line). No calculations are necessary, just make your best estimation.
  </p>

  <p> 
  After you have entered your guess, press "submit" and you will be taken to the next round. Once you have finished all 20 rounds, the game is complete and you will be taken to an exit survey.
  </p>

  <div class="example">
  <img src="/static/images/example-plot.png" class="img-responsive sample"/>
  <form class="form" action="." method="post">
  {% csrf_token %}
  {% include 'components/slider.html' %}
  </form>
  </div>
</div>


<div id="instructionsCheck">
<h2>Comprehension Check</h2>
  <form class="form" action="." method="post">
    {% csrf_token %}

    {% for error in form.non_field_errors %}
      <ul>
        <li><b>{{ error }}</b></li>
      </ul>
    {% endfor %}
    <div class="form-group">
      {{ form.q1.label }}
      {% for option in form.q1 %}
      <div> 
        {{ option }}
      </div>
      {% endfor %}
    </div>
    <div class="form-group">
      {{ form.q2.label }} {{ form.q2 }} {{ form.q3.label }} {{ form.q3 }}
    </div>
    <div class="form-group">
      {{ form.q4.label }}
      {% for option in form.q4 %}
      <div> 
        {{ option }}
      </div>
      {% endfor %}
    </div>
    <div class="form-group">
      {{ form.q5.label }}
      {% for option in form.q5 %}
      <div> 
        {{ option }}
      </div>
      {% endfor %}
    </div>

  <button type="submit" value="Submit" class="btn btn-primary nextButton">Next</button>
  </form>
    <a class="btn btn-primary" href="{% url 'control:instruction' %}">Previous</a>
</div>
{% endblock %}

{% block extra_javascript %}
    <script src="{% static 'js/game.js' %}"></script>
{% endblock %}
